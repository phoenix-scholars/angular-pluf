"use strict";angular.module("pluf",[]).run(["$usr","$act","PException",function(a,b,c){b.command({id:"pluf.user.login",label:"login",description:"login a user",visible:function(){return a.isAnonymous()},category:"usr"}).handler({commandId:"pluf.user.login",handle:function(){if(arguments.length<1)throw new c("no credentioal");var b=arguments[0];return a.login(b.username,b.password)}}).command({id:"pluf.user.logout",label:"logout",description:"logout the user",visible:function(){return!a.isAnonymous()},category:"usr"}).handler({commandId:"pluf.user.logout",handle:function(){return a.logout()}}).command({id:"pluf.user.update",label:"update",description:"update the current user",visible:function(){return!a.isAnonymous()}}).handler({commandId:"pluf.user.update",handle:function(){if(arguments.length<1)throw new c("bad param");var b=arguments[0];return a.session().then(function(a){return a.update(b.key,b.value)})}}).command({id:"pluf.user.profile.update",label:"update profile",description:"update user profile",visible:function(){return!a.isAnonymous()}}).handler({commandId:"pluf.user.profile.update",handle:function(){if(arguments.length<1)throw new c("bad param");var b=arguments[0];return a.session().then(function(a){return a.profile()}).then(function(a){return a.update(b.key,b.value)})}})}]),function(){angular.module("pluf.social",["pluf"])}();