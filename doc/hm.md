# مقدمه

این بسته سرویس‌هایی برای کارکردن با آپارتمان‌ها ایجاد کرده است. مهم‌ترین سرویسی که در این بسته ارائه شده است سرویس $hm است که یک توسعه از سرویس $tenant است. مهم‌ترین تفاوت این سرویس با سرویس $tenant مدل خروجی آن است. در اینجا تمام مدلهای خروجی به جاری PTenant از نوع HMTenant است. 

به بیان دیگر هر اپارتمان یک توسعه از ملک (در مدل ابری) است که شامل واحد‌ها، پرداخت‌ها و پیام‌ها می‌شود.

# اپارتمان جاری

یک فراخوانی برای گرفتن اپارتمان جاری در نظر گرفته شده است که شکل کلی آن به صورت صورت زیر است:

	$hm.session().then(function(aparteman){
		// Do somthing
	}, function(exceptioin){
		// PException instance
	});

شی aparteman از نوع HMTenant است.


# HMTenant

این کلاس برای کار با یک آپارتمان در نظر گرفته شده است.

## گرفتن پیام‌های عمومی

هر آپارتمان یه فهرست از پیام‌هایی دارد که به عنوان پیام‌های عمومی در برد آن قرار می‌گیرد. فراخوانی زیر برای دسترسی به این فهرست از پیام‌ها در نظر گرفته شده است:

	aparteman.messages(param).then(function(msgs){
		// msgs is instance of PaginatedPage
	}, function(ex){
		// ex is instace of PException
	})

این پیاده سازی از روش‌های صفحه بندی استفاده می‌کند و پارامتر ورودی آن توسط کاربر قابل تنظیم است. برای اطلاعات بیشتر کلاس‌های زیر را ببینید:

- PaginationParameter
- PaginatedPage

